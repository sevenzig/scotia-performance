<!doctype html>
<html lang="en" data-theme="scotia">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="Scotia Performance - Professional auto repair services in Scotia, NY. ASE certified mechanics specializing in brake service, engine repair, transmission service, and more." />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="theme-color" content="#1e3a8a" />
		
		<!-- Content Security Policy -->
		<meta http-equiv="Content-Security-Policy" content="
			default-src 'self';
			script-src 'self' 'unsafe-inline' 'unsafe-eval';
			script-src-attr 'self' 'unsafe-inline';
			script-src-elem 'self' 'unsafe-inline';
			style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
			style-src-elem 'self' 'unsafe-inline' https://fonts.googleapis.com;
			img-src 'self' data: blob: https:;
			connect-src 'self' ws: wss: https:;
			font-src 'self' data: https://fonts.gstatic.com;
			object-src 'none';
			media-src 'self' data: blob: https:;
			frame-src 'self' https://www.google.com https://maps.google.com;
			worker-src 'self' blob:;
			child-src 'self' blob:;
			form-action 'self';
			base-uri 'self';
			manifest-src 'self';
		" />
		
		<!-- Favicons with optimized loading order -->
		<link rel="icon" type="image/svg+xml" href="%sveltekit.assets%/favicon.svg" />
		<link rel="icon" type="image/png" href="%sveltekit.assets%/favicon-96x96.png" sizes="96x96" />
		<link rel="shortcut icon" href="%sveltekit.assets%/favicon.ico" />
		<link rel="apple-touch-icon" sizes="180x180" href="%sveltekit.assets%/apple-touch-icon.png" />
		<link rel="manifest" href="%sveltekit.assets%/site.webmanifest" />
		
		<!-- Preload critical assets -->
		<link rel="preload" href="%sveltekit.assets%/images/hero-bg.jpg" as="image" fetchpriority="high" />
		<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link rel="dns-prefetch" href="https://fonts.googleapis.com" />
		<link rel="dns-prefetch" href="https://fonts.gstatic.com" />
		
		<!-- Inline critical CSS for faster render -->
		<style>
			/* Critical CSS for initial render */
			:root {
				--primary-color: #1e3a8a;
				--secondary-color: #7f1d1d;
				--bg-color: #ffffff;
				--text-color: #1a202c;
			}
			
			body {
				margin: 0;
				padding: 0;
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
				font-size: 16px;
				line-height: 1.5;
				color: var(--text-color);
				background-color: var(--bg-color);
			}
			
			body.menu-open {
				overflow: hidden;
			}
			
			.site-header {
				position: sticky;
				top: 0;
				z-index: 100;
				background-color: var(--primary-color);
				color: white;
				padding: 1rem;
				transition: padding 0.3s ease;
				display: flex;
				align-items: center;
				justify-content: space-between;
			}
			
			.logo {
				font-weight: bold;
				font-size: 1.25rem;
				color: white;
				text-decoration: none;
			}
			
			.site-content {
				min-height: 70vh;
			}
			
			@media (max-width: 768px) {
				.desktop-nav {
					display: none;
				}
			}
		</style>
		
		<!-- Font loading optimization - subset and display swap -->
		<link rel="preload" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Almarai:wght@300;400;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'" />
		<noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Almarai:wght@300;400;700&display=swap" /></noscript>
		
		<!-- Font display CSS -->
		<style>
			@font-face {
				font-family: 'Montserrat';
				font-style: normal;
				font-weight: 500;
				font-display: swap;
				src: local('Montserrat');
			}
			
			@font-face {
				font-family: 'Almarai';
				font-style: normal;
				font-weight: 400;
				font-display: swap;
				src: local('Almarai');
			}
		</style>
		
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="tap" data-sveltekit-preload-code="hover">
		<div style="display: contents">%sveltekit.body%</div>
		
		<!-- Optimized script loading -->
		<script type="module">
			// Enable modern image loading
			if ('loading' in HTMLImageElement.prototype) {
				document.documentElement.classList.add('loading-supported');
			}
			
			// Add touch class
			if ('ontouchstart' in window || navigator.maxTouchPoints > 0) {
				document.documentElement.classList.add('touch-device');
			}
			
			// Initialize any required global functionality
			document.addEventListener('DOMContentLoaded', () => {
				// Add any initialization code here
			});
		</script>
	</body>
</html>
